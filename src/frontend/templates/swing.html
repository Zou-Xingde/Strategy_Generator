<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Swing Generator - Ê≥¢ÊÆµÁîüÊàêÂô®</title>
    <link rel="stylesheet" href="/static/swing.css?v={{ cache_buster }}">
    <script src="https://unpkg.com/lightweight-charts@3.8.0/dist/lightweight-charts.standalone.production.js"></script>
</head>
<body class="market-swing-theme">
    <!-- ÈüøÊáâÂºè‰∏ªÂÆπÂô® -->
    <div class="app-container">
        <!-- È†ÇÈÉ®Â∑•ÂÖ∑Ê¨Ñ -->
        <header class="main-toolbar">
            <!-- Â∑¶ÂÅ¥ÊéßÂà∂ÂçÄ -->
            <div class="toolbar-left">
                <!-- ÂìÅÁ®ÆÈÅ∏Êìá‰∏ãÊãâÈÅ∏ÂñÆ -->
                <div class="control-group symbol-group">
                    <div class="symbol-selector">
                        <button class="symbol-btn" id="symbol-dropdown">
                            <span id="current-symbol">XAUUSD</span>
                            <span class="dropdown-arrow">‚ñº</span>
                        </button>
                        <div class="symbol-dropdown" id="symbol-dropdown-menu">
                            <div class="symbol-option" data-symbol="XAUUSD">XAUUSD (ÈªÉÈáë)</div>
                            <div class="symbol-option" data-symbol="US30">US30 (ÈÅìÁìäÊñØ)</div>
                            <div class="symbol-option" data-symbol="US100">US100 (Á¥çÊñØÈÅîÂÖã)</div>
                        </div>
                    </div>
                </div>
                
                <!-- ÊºîÁÆóÊ≥ïÈÅ∏Êìá -->
                <div class="control-group algorithm-group">
                    <div class="algorithm-selector">
                        <button class="algorithm-btn" id="algorithm-dropdown">
                            <span id="current-algorithm">ZigZag</span>
                            <span class="dropdown-arrow">‚ñº</span>
                        </button>
                        <div class="algorithm-dropdown" id="algorithm-dropdown-menu">
                            <div class="algorithm-option" data-algorithm="ZigZag">ZigZag</div>
                            <div class="algorithm-option" data-algorithm="Swing High/Low">Swing High/Low</div>
                        </div>
                    </div>
                </div>
                
                <!-- ÂèÉÊï∏Ë®≠ÁΩÆÊåâÈàï -->
                <div class="control-group params-group">
                    <button class="tool-btn params-btn" id="swing-params" title="ÂèÉÊï∏Ë®≠ÁΩÆ">
                        <span class="btn-icon">‚öôÔ∏è</span>
                        <span class="btn-text">ÂèÉÊï∏</span>
                    </button>
                </div>
            </div>
            
            <!-- ‰∏≠ÈñìÊôÇÈñìÊ°ÜÊû∂ÂçÄ -->
            <div class="toolbar-center">
                <div class="timeframe-container">
                    <div class="timeframe-buttons">
                        <button class="tf-btn" data-timeframe="M1">M1</button>
                        <button class="tf-btn" data-timeframe="M5">M5</button>
                        <button class="tf-btn" data-timeframe="M15">M15</button>
                        <button class="tf-btn" data-timeframe="M30">M30</button>
                        <button class="tf-btn" data-timeframe="H1">H1</button>
                        <button class="tf-btn" data-timeframe="H4">H4</button>
                        <button class="tf-btn active" data-timeframe="D1">D1</button>
                        <button class="tf-btn" data-timeframe="W1">W1</button>
                        <button class="tf-btn" data-timeframe="MN">MN</button>
                    </div>
                </div>
            </div>
            
            <!-- Âè≥ÂÅ¥Â∑•ÂÖ∑ÂçÄ -->
            <div class="toolbar-right">
                <!-- Êó•ÊúüÁØÑÂúçÈÅ∏ÊìáÂô® -->
                <div class="control-group date-group">
                    <div class="date-range-selector">
                        <div class="date-input-group">
                            <label for="start-date">ÈñãÂßã</label>
                            <input type="date" id="start-date" class="date-input">
                        </div>
                        <div class="date-input-group">
                            <label for="end-date">ÁµêÊùü</label>
                            <input type="date" id="end-date" class="date-input">
                        </div>
                    </div>
                </div>
                
                <!-- Êìç‰ΩúÊåâÈàïÁµÑ -->
                <div class="control-group action-group">
                    <button class="action-btn primary-btn" id="generate-swing">
                        <span class="btn-icon">üîÑ</span>
                        <span class="btn-text">ÁîüÊàêÊ≥¢ÊÆµ</span>
                    </button>
                    <button class="action-btn secondary-btn" id="clear-swing">
                        <span class="btn-icon">üóëÔ∏è</span>
                        <span class="btn-text">Ê∏ÖÈô§</span>
                    </button>
                    
                    <!-- È°çÂ§ñÂ∑•ÂÖ∑ÊåâÈàï -->
                    <button class="tool-btn" id="show-swing" title="È°ØÁ§∫Ê≥¢ÊÆµ">üìà</button>
                    <button class="tool-btn" id="swing-list" title="Ê≥¢ÊÆµÂàóË°®">üìã</button>
                    <button class="tool-btn" id="zoom-in" title="ÊîæÂ§ß">+</button>
                    <button class="tool-btn" id="zoom-out" title="Á∏ÆÂ∞è">-</button>
                    <button class="tool-btn" id="zoom-reset" title="ÈáçÁΩÆÁ∏ÆÊîæ">üîÑ</button>
                    <button class="tool-btn" id="crosshair" title="ÂçÅÂ≠óÁ∑ö">‚úö</button>
                    <button class="tool-btn" id="measure" title="Ê∏¨ÈáèÂ∑•ÂÖ∑">üìè</button>
                    <button class="tool-btn" id="fullscreen" title="ÂÖ®Â±è">‚õ∂</button>
                </div>
            </div>
            
            <!-- ÁßªÂãïÁ´ØÊº¢Â†°ÈÅ∏ÂñÆ -->
            <div class="mobile-menu-toggle">
                <button class="hamburger-btn" id="mobile-menu-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </header>
        
        <!-- ‰∏ªË¶ÅÂÖßÂÆπÂçÄÂüü -->
        <main class="main-content">
            <!-- ÂúñË°®ÂÆπÂô® -->
            <div class="chart-section">
                <div class="chart-container">
                    <div id="chart" class="trading-chart"></div>
                </div>
            </div>
        </main>
        
        <!-- Â∫ïÈÉ®ÁãÄÊÖãÊ¨Ñ -->
        <footer class="status-bar">
            <div class="status-left">
                <span id="connection-status" class="status-indicator">üü¢ Â∑≤ÈÄ£Êé•</span>
            </div>
            <div class="status-center">
                <span id="current-time" class="current-time"></span>
            </div>
            <div class="status-right">
                <span id="data-count">Êï∏ÊìöÈáè: -</span>
                <span class="separator">|</span>
                <span id="generation-status">Â∞±Á∑í</span>
            </div>
        </footer>
    </div>
    
    <!-- ÂèÉÊï∏Ë®≠ÁΩÆÂΩàÂá∫Ë¶ñÁ™ó -->
    <div class="params-popup" id="params-popup">
        <div class="params-dialog">
            <div class="params-header">
                <h3>ÂèÉÊï∏Ë®≠ÁΩÆ</h3>
                <button class="close-btn" id="close-params">&times;</button>
            </div>
            <div class="params-content">
                <form id="params-form" class="params-form">
                    <div class="params-form-group">
                        <label for="deviation-param">Deviation (%)</label>
                        <input type="number" id="deviation-param" name="deviation" value="12" min="1" max="100" step="0.1">
                        <small>ZigZagÂÅèÂ∑ÆÁôæÂàÜÊØî</small>
                    </div>
                    <div class="params-form-group">
                        <label for="depth-param">Depth</label>
                        <input type="number" id="depth-param" name="depth" value="12" min="1" max="100" step="1">
                        <small>ÂõûÊ∫ØÊ∑±Â∫¶</small>
                    </div>
                    <div class="params-form-group">
                        <label for="backstep-param">Backstep</label>
                        <input type="number" id="backstep-param" name="backstep" value="3" min="1" max="50" step="1">
                        <small>ÂõûÈÄÄÊ≠•Êï∏</small>
                    </div>
                </form>
            </div>
            <div class="params-actions">
                <button class="params-btn cancel-btn" id="cancel-params">ÂèñÊ∂à</button>
                <button class="params-btn confirm-btn" id="confirm-params">Á¢∫Ë™ç</button>
            </div>
        </div>
    </div>

    <script src="/static/swing.js?v={{ cache_buster }}"></script>
</body>
</html>
